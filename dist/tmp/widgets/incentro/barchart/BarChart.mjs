import { useState, useRef, useCallback, useEffect, createElement } from 'react';

function BarChart({
  context,
  chartValue,
  colors,
  customSortOrder,
  chartName,
  disableIndicators,
  legendOrientation,
  roundedCorners,
  sortAttribute,
  sortOrder,
  unit,
  unitPosition
}) {
  const [canRender, setCanRender] = useState(false);
  const containerRef = useRef([]);
  const colorArray = ["#003f5c", "#2f4b7c", "#665191", "#a05195", "#d45087", "#f95d6a", "#ff7c43", "#ffa600"];
  const [total, setTotal] = useState(0);
  const rounded = roundedCorners ? "barchart-chart--rounded" : null;
  const tooltipRef = useCallback(tooltipNode => {
    if (tooltipNode?.getBoundingClientRect().right >= window.innerWidth) {
      tooltipNode.classList.add("align-right");
    }
  }, []);
  function showTooltip(index) {
    index.classList.add("show-tooltip");
  }
  function hideTooltip(index) {
    index.classList.remove("show-tooltip");
  }
  useEffect(() => {
    function calcTotal() {
      const totals = [];
      context.items.map((item, index) => totals.push(Number(chartValue.get(context.items[index]).displayValue)));
      setTotal(totals.reduce((a, b) => a + b, 0));
    }
    function setSortOrder() {
      let sortInstrs = [];
      if (!customSortOrder && sortAttribute === "chartName" && chartName.sortable) {
        sortInstrs = [[chartName.id, sortOrder]];
      } else if (!customSortOrder && sortAttribute === "chartValue" && chartValue.sortable) {
        sortInstrs = [[chartValue.id, sortOrder]];
      } else if (customSortOrder && customSortOrder.sortable) {
        sortInstrs = [[customSortOrder.id, sortOrder]];
      }
      context.setSortOrder(sortInstrs);
    }
    if (context && context.status === "available" && context.items.length > 0) {
      setSortOrder();
      calcTotal();
      setCanRender(true);
    }
  }, [context, colors, customSortOrder, sortAttribute, chartName, chartValue, sortOrder]);
  if (canRender) {
    return createElement("div", {
      className: "barchart-widget"
    }, createElement("ul", {
      className: `barchart-legend barchart-legend--${legendOrientation}`
    }, context.items && context.items.map((item, index) => createElement("li", {
      key: item,
      ref: element => containerRef.current[index] = element,
      name: `barchart-legend-index-${index}`,
      onMouseEnter: () => showTooltip(containerRef.current[index]),
      onMouseLeave: () => hideTooltip(containerRef.current[index])
    }, createElement("span", {
      style: {
        backgroundColor: `var(--barchart-color-${[index]}, ${colors[index] ? colors[index].value : colorArray[index]})`
      }
    }), createElement("p", null, chartName.get(context.items[index]).displayValue)))), createElement("ul", {
      className: `barchart-chart ${rounded}`
    }, context.items && context.items.map((item, index) => createElement("li", {
      key: item,
      ref: element => containerRef.current[index] = element,
      name: `barchart-index-${index}`,
      onMouseEnter: () => showTooltip(containerRef.current[index]),
      onMouseLeave: () => hideTooltip(containerRef.current[index]),
      style: {
        flex: chartValue.get(context.items[index]).displayValue,
        backgroundColor: `var(--barchart-color-${[index]}, ${colors[index] ? colors[index].value : colorArray[index]})`
      }
    }, createElement("div", {
      className: "barchart-tooltip",
      ref: tooltipRef
    }, createElement("p", null, createElement("span", null, unitPosition === "before" && unit && unit, chartValue.get(context.items[index]).displayValue, unitPosition === "after" && unit && unit), " ", chartName.get(context.items[index]).displayValue))))), !disableIndicators && createElement("div", {
      className: "barchart-meter"
    }, createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    }), createElement("div", {
      className: "item"
    })), !disableIndicators && createElement("div", {
      className: "barchart-indicators"
    }, createElement("span", {
      className: "barchart-indicator"
    }, unitPosition === "before" && unit && unit, "0", unitPosition === "after" && unit && unit), createElement("span", {
      className: "barchart-indicator"
    }, unitPosition === "before" && unit && unit, total / 2, unitPosition === "after" && unit && unit), createElement("span", {
      className: "barchart-indicator"
    }, unitPosition === "before" && unit && unit, total, unitPosition === "after" && unit && unit)));
  } else {
    return createElement("div", {
      className: "barchart-widget"
    });
  }
}

export { BarChart as default };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFyQ2hhcnQubWpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQmFyQ2hhcnQuanN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4vdWkvQmFyQ2hhcnQuY3NzXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJhckNoYXJ0KHtcbiAgICBjb250ZXh0LFxuICAgIGNoYXJ0VmFsdWUsXG4gICAgY29sb3JzLFxuICAgIGN1c3RvbVNvcnRPcmRlcixcbiAgICBjaGFydE5hbWUsXG4gICAgZGlzYWJsZUluZGljYXRvcnMsXG4gICAgbGVnZW5kT3JpZW50YXRpb24sXG4gICAgcm91bmRlZENvcm5lcnMsXG4gICAgc29ydEF0dHJpYnV0ZSxcbiAgICBzb3J0T3JkZXIsXG4gICAgdW5pdCxcbiAgICB1bml0UG9zaXRpb25cbn0pIHtcbiAgICBjb25zdCBbY2FuUmVuZGVyLCBzZXRDYW5SZW5kZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZihbXSk7XG4gICAgY29uc3QgY29sb3JBcnJheSA9IFtcIiMwMDNmNWNcIiwgXCIjMmY0YjdjXCIsIFwiIzY2NTE5MVwiLCBcIiNhMDUxOTVcIiwgXCIjZDQ1MDg3XCIsIFwiI2Y5NWQ2YVwiLCBcIiNmZjdjNDNcIiwgXCIjZmZhNjAwXCJdO1xuICAgIGNvbnN0IFt0b3RhbCwgc2V0VG90YWxdID0gdXNlU3RhdGUoMCk7XG4gICAgY29uc3Qgcm91bmRlZCA9IHJvdW5kZWRDb3JuZXJzID8gXCJiYXJjaGFydC1jaGFydC0tcm91bmRlZFwiIDogbnVsbDtcblxuICAgIGNvbnN0IHRvb2x0aXBSZWYgPSB1c2VDYWxsYmFjayh0b29sdGlwTm9kZSA9PiB7XG4gICAgICAgIGlmICh0b29sdGlwTm9kZT8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQgPj0gd2luZG93LmlubmVyV2lkdGgpIHtcbiAgICAgICAgICAgIHRvb2x0aXBOb2RlLmNsYXNzTGlzdC5hZGQoXCJhbGlnbi1yaWdodFwiKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIGZ1bmN0aW9uIHNob3dUb29sdGlwKGluZGV4KSB7XG4gICAgICAgIGluZGV4LmNsYXNzTGlzdC5hZGQoXCJzaG93LXRvb2x0aXBcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZVRvb2x0aXAoaW5kZXgpIHtcbiAgICAgICAgaW5kZXguY2xhc3NMaXN0LnJlbW92ZShcInNob3ctdG9vbHRpcFwiKTtcbiAgICB9XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBmdW5jdGlvbiBjYWxjVG90YWwoKSB7XG4gICAgICAgICAgICBjb25zdCB0b3RhbHMgPSBbXTtcbiAgICAgICAgICAgIGNvbnRleHQuaXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4gdG90YWxzLnB1c2goTnVtYmVyKGNoYXJ0VmFsdWUuZ2V0KGNvbnRleHQuaXRlbXNbaW5kZXhdKS5kaXNwbGF5VmFsdWUpKSk7XG4gICAgICAgICAgICBzZXRUb3RhbCh0b3RhbHMucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHNldFNvcnRPcmRlcigpIHtcbiAgICAgICAgICAgIGxldCBzb3J0SW5zdHJzID0gW107XG4gICAgICAgICAgICBpZiAoIWN1c3RvbVNvcnRPcmRlciAmJiBzb3J0QXR0cmlidXRlID09PSBcImNoYXJ0TmFtZVwiICYmIGNoYXJ0TmFtZS5zb3J0YWJsZSkge1xuICAgICAgICAgICAgICAgIHNvcnRJbnN0cnMgPSBbW2NoYXJ0TmFtZS5pZCwgc29ydE9yZGVyXV07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFjdXN0b21Tb3J0T3JkZXIgJiYgc29ydEF0dHJpYnV0ZSA9PT0gXCJjaGFydFZhbHVlXCIgJiYgY2hhcnRWYWx1ZS5zb3J0YWJsZSkge1xuICAgICAgICAgICAgICAgIHNvcnRJbnN0cnMgPSBbW2NoYXJ0VmFsdWUuaWQsIHNvcnRPcmRlcl1dO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjdXN0b21Tb3J0T3JkZXIgJiYgY3VzdG9tU29ydE9yZGVyLnNvcnRhYmxlKSB7XG4gICAgICAgICAgICAgICAgc29ydEluc3RycyA9IFtbY3VzdG9tU29ydE9yZGVyLmlkLCBzb3J0T3JkZXJdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQuc2V0U29ydE9yZGVyKHNvcnRJbnN0cnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5zdGF0dXMgPT09IFwiYXZhaWxhYmxlXCIgJiYgY29udGV4dC5pdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZXRTb3J0T3JkZXIoKTtcbiAgICAgICAgICAgIGNhbGNUb3RhbCgpO1xuICAgICAgICAgICAgc2V0Q2FuUmVuZGVyKHRydWUpO1xuICAgICAgICB9XG4gICAgfSwgW2NvbnRleHQsIGNvbG9ycywgY3VzdG9tU29ydE9yZGVyLCBzb3J0QXR0cmlidXRlLCBjaGFydE5hbWUsIGNoYXJ0VmFsdWUsIHNvcnRPcmRlcl0pO1xuXG4gICAgaWYgKGNhblJlbmRlcikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYXJjaGFydC13aWRnZXRcIj5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPXtgYmFyY2hhcnQtbGVnZW5kIGJhcmNoYXJ0LWxlZ2VuZC0tJHtsZWdlbmRPcmllbnRhdGlvbn1gfT5cbiAgICAgICAgICAgICAgICAgICAge2NvbnRleHQuaXRlbXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17ZWxlbWVudCA9PiAoY29udGFpbmVyUmVmLmN1cnJlbnRbaW5kZXhdID0gZWxlbWVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2BiYXJjaGFydC1sZWdlbmQtaW5kZXgtJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHNob3dUb29sdGlwKGNvbnRhaW5lclJlZi5jdXJyZW50W2luZGV4XSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4gaGlkZVRvb2x0aXAoY29udGFpbmVyUmVmLmN1cnJlbnRbaW5kZXhdKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYHZhcigtLWJhcmNoYXJ0LWNvbG9yLSR7W2luZGV4XX0sICR7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yc1tpbmRleF0gPyBjb2xvcnNbaW5kZXhdLnZhbHVlIDogY29sb3JBcnJheVtpbmRleF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KWBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPntjaGFydE5hbWUuZ2V0KGNvbnRleHQuaXRlbXNbaW5kZXhdKS5kaXNwbGF5VmFsdWV9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9e2BiYXJjaGFydC1jaGFydCAke3JvdW5kZWR9YH0+XG4gICAgICAgICAgICAgICAgICAgIHtjb250ZXh0Lml0ZW1zICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lml0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpdGVtfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e2VsZW1lbnQgPT4gKGNvbnRhaW5lclJlZi5jdXJyZW50W2luZGV4XSA9IGVsZW1lbnQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtgYmFyY2hhcnQtaW5kZXgtJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHNob3dUb29sdGlwKGNvbnRhaW5lclJlZi5jdXJyZW50W2luZGV4XSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4gaGlkZVRvb2x0aXAoY29udGFpbmVyUmVmLmN1cnJlbnRbaW5kZXhdKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IGNoYXJ0VmFsdWUuZ2V0KGNvbnRleHQuaXRlbXNbaW5kZXhdKS5kaXNwbGF5VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGB2YXIoLS1iYXJjaGFydC1jb2xvci0ke1tpbmRleF19LCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yc1tpbmRleF0gPyBjb2xvcnNbaW5kZXhdLnZhbHVlIDogY29sb3JBcnJheVtpbmRleF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYXJjaGFydC10b29sdGlwXCIgcmVmPXt0b29sdGlwUmVmfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dW5pdFBvc2l0aW9uID09PSBcImJlZm9yZVwiICYmIHVuaXQgJiYgdW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NoYXJ0VmFsdWUuZ2V0KGNvbnRleHQuaXRlbXNbaW5kZXhdKS5kaXNwbGF5VmFsdWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1bml0UG9zaXRpb24gPT09IFwiYWZ0ZXJcIiAmJiB1bml0ICYmIHVuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPntcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2hhcnROYW1lLmdldChjb250ZXh0Lml0ZW1zW2luZGV4XSkuZGlzcGxheVZhbHVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICB7IWRpc2FibGVJbmRpY2F0b3JzICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiYXJjaGFydC1tZXRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpdGVtXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW1cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRlbVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpdGVtXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW1cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRlbVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpdGVtXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW1cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRlbVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpdGVtXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW1cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgIHshZGlzYWJsZUluZGljYXRvcnMgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhcmNoYXJ0LWluZGljYXRvcnNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJhcmNoYXJ0LWluZGljYXRvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1bml0UG9zaXRpb24gPT09IFwiYmVmb3JlXCIgJiYgdW5pdCAmJiB1bml0fTB7dW5pdFBvc2l0aW9uID09PSBcImFmdGVyXCIgJiYgdW5pdCAmJiB1bml0fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmFyY2hhcnQtaW5kaWNhdG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3VuaXRQb3NpdGlvbiA9PT0gXCJiZWZvcmVcIiAmJiB1bml0ICYmIHVuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RvdGFsIC8gMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dW5pdFBvc2l0aW9uID09PSBcImFmdGVyXCIgJiYgdW5pdCAmJiB1bml0fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmFyY2hhcnQtaW5kaWNhdG9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3VuaXRQb3NpdGlvbiA9PT0gXCJiZWZvcmVcIiAmJiB1bml0ICYmIHVuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RvdGFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt1bml0UG9zaXRpb24gPT09IFwiYWZ0ZXJcIiAmJiB1bml0ICYmIHVuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9XCJiYXJjaGFydC13aWRnZXRcIj48L2Rpdj47XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbIkJhckNoYXJ0IiwiY29udGV4dCIsImNoYXJ0VmFsdWUiLCJjb2xvcnMiLCJjdXN0b21Tb3J0T3JkZXIiLCJjaGFydE5hbWUiLCJkaXNhYmxlSW5kaWNhdG9ycyIsImxlZ2VuZE9yaWVudGF0aW9uIiwicm91bmRlZENvcm5lcnMiLCJzb3J0QXR0cmlidXRlIiwic29ydE9yZGVyIiwidW5pdCIsInVuaXRQb3NpdGlvbiIsImNhblJlbmRlciIsInNldENhblJlbmRlciIsInVzZVN0YXRlIiwiY29udGFpbmVyUmVmIiwidXNlUmVmIiwiY29sb3JBcnJheSIsInRvdGFsIiwic2V0VG90YWwiLCJyb3VuZGVkIiwidG9vbHRpcFJlZiIsInVzZUNhbGxiYWNrIiwidG9vbHRpcE5vZGUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJyaWdodCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJjbGFzc0xpc3QiLCJhZGQiLCJzaG93VG9vbHRpcCIsImluZGV4IiwiaGlkZVRvb2x0aXAiLCJyZW1vdmUiLCJ1c2VFZmZlY3QiLCJjYWxjVG90YWwiLCJ0b3RhbHMiLCJpdGVtcyIsIm1hcCIsIml0ZW0iLCJwdXNoIiwiTnVtYmVyIiwiZ2V0IiwiZGlzcGxheVZhbHVlIiwicmVkdWNlIiwiYSIsImIiLCJzZXRTb3J0T3JkZXIiLCJzb3J0SW5zdHJzIiwic29ydGFibGUiLCJpZCIsInN0YXR1cyIsImxlbmd0aCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJrZXkiLCJyZWYiLCJlbGVtZW50IiwiY3VycmVudCIsIm5hbWUiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsInZhbHVlIiwiZmxleCJdLCJtYXBwaW5ncyI6Ijs7QUFHZSxTQUFT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
